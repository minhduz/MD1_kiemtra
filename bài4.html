<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <style>
    *{
      padding: 0;
      margin: 0;
      box-sizing: border-box;
    }
    body{
      background: url("image/liyue.jpg");
    }
  </style>
</head>
<body onload="docReady()">
<img id="hutao" src="image/hutao.png" style="position: relative;left: 0;top: 0;"  width="110px" height="120px" >
<img id="qiqi" src="image/qiqi.png" style="position: relative;left: 500px;top: 500px;" width="110px" height="120px" >
<script>
  let element = document.getElementById("hutao")
  // let width = window.innerWidth
  // let height = window.innerHeight
  // element.style.left = (getRndInteger(0, width) + 'px')
  // element.style.top = (getRndInteger(0, height) + 'px')


  let qiqi = document.getElementById('qiqi');
  let x1 = parseInt(qiqi.style.left)
  let x2 = Number(qiqi.width)
  let y1 = parseInt(qiqi.style.top)
  let y2 = Number(qiqi.height)

  element.style.left = (Math.floor(Math.random() * (window.innerWidth/10 - 30))*10) + 'px';
  element.style.top = (Math.floor(Math.random() * (window.innerHeight/10 - 30))*10) + 'px';
  qiqi.style.left = (Math.floor(Math.random() * (window.innerWidth/10 - 30))*10) + 'px';
  qiqi.style.top = (Math.floor(Math.random() * (window.innerHeight/10 - 30))*10) + 'px';


  function upArrowPressed() {
    let element = document.getElementById("hutao");
    element.style.top = parseInt(element.style.top) - 10 + 'px';
  }
  function downArrowPressed() {
    let element = document.getElementById("hutao");
    element.style.top = parseInt(element.style.top) + 10 + 'px';
  }
  function leftArrowPressed() {
    let element = document.getElementById("hutao");
    element.style.left = parseInt(element.style.left) - 10 + 'px';
  }
  function rightArrowPressed() {
    let element = document.getElementById("hutao")
    element.style.left = parseInt(element.style.left) + 10 + 'px';
  }

  function moveSelection(evt) {
    switch (evt.keyCode) {
      case 37:
        if(parseInt(element.style.left) >= 0){
          leftArrowPressed();
        } else {
          return
        }
        check()
        break;
      case 39:
        if((parseInt(element.style.left) + parseInt(element.width)) <= window.innerWidth){
          rightArrowPressed();
        } else {
          return;
        }
        check()
        break;
      case 38:
        if(parseInt(element.style.top) >= 0){
          upArrowPressed();
        } else {
          return;
        }
        check()
        break;
      case 40:
        if((parseInt(element.style.top) + parseInt(element.height) <= window.innerHeight)){
          downArrowPressed();
        } else {
          return;
        }
        check()
        break;
    }
  }

  function getRndInteger(min, max) {
    return Math.floor(Math.random() * (max - min) ) + min;
  }

  function check(){
    let element = document.getElementById("hutao")
    console.log('top: ',parseInt(element.style.top))
    console.log('left: ',parseInt(element.style.left))
    console.log('x1----->',x1)
    console.log('x2----->',x2)
    console.log('y1----->',y1)
    console.log('y2----->',y2)
    console.log('x1+x2------>',x1+x2)
    console.log('y1+y2------>',y1+y2)
    if(((x1+80 <= parseInt(element.style.left)) && (parseInt(element.style.left) <= x1+x2+70))
            && (y1-80 <= parseInt(element.style.top)) && (parseInt(element.style.top) <= y1+y2-80)){
      alert('Hoàn Thành')
      location.reload()
    }
  }

  function docReady(){
    window.addEventListener('keydown',moveSelection)
  }
</script>
</body>
</html>